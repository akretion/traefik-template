version: '3.7'
networks:
    traefik:
      external: true
services:
    traefik:
        image: traefik:v2.0
        command:
            --api.insecure --providers.docker --providers.docker.exposedbydefault="false"
        ports:
            - "80:80"
            - "443:443"
            - "8080:8080"
        volumes:
            - /var/run/docker.sock:/var/run/docker.sock
        networks:
          - traefik
        labels:
           - "traefik.enable=true"
        hostname: traefik
        container_name: traefik
